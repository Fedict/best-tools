<beans:beans xmlns="http://www.springframework.org/schema/batch"
             xmlns:beans="http://www.springframework.org/schema/beans"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="
    http://www.springframework.org/schema/beans
    http://www.springframework.org/schema/beans/spring-beans.xsd
    http://www.springframework.org/schema/batch
    http://www.springframework.org/schema/batch/spring-batch.xsd">

<job id="loadAddresses">
    <step id="deleteCities">
    </step>
    <step id="insertCities">
        <tasklet>
            <chunk reader="citiesReader" writer="citiesWriter" commit-interval="1"/>
        </tasklet>
    </step>
    <step id="deleteStreets">
    </step>
    <step id="insertStreets">
    </step>
    <step id="deleteAddresses">
    </step>
    <step id="insertAddresses">
    </step>

</job>

<beans:bean id="citiesReader" class="org.springframework.batch.item.xml.StaxEventItemReader">
    <beans:property name="fragmentRootElementName" value="tns:Municipality"/>  
    <beans:property name="unmarshaller" ref="citiesMarshaller"/>
</beans:bean>
<beans:bean id="citiesMarshaller" class="org.springframework.oxm.xstream.XStreamMarshaller">
    
</beans:bean>
</beans:beans>
